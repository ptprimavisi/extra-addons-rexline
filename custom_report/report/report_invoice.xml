<odoo>
    <data>
        <record id="action_report_invoice" model="ir.actions.report">
            <field name="name">Print Out Finance</field>
            <field name="model">account.move</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">custom_report.report_invoice</field>
            <field name="report_file">custom_report.report_invoice</field>
            <field name="print_report_name">"Print Out Finance"</field>
        </record>
        
        <template id="report_invoice">
            <t t-call="web.html_container">
                <div class="container" style="font-family: Calibri, sans-serif;">
                    <div style="text-align: center;">
                        <img t-if="logo" t-att-src="logo" 
                            style="width: 90px; height: auto;" alt="Logo" />
                    </div>
                    
                    <table class="table" style="width: 100%; font-size: 14px;">
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff; vertical-align: top;width: 40%;"><b><t t-esc="company_name"/></b></td>
                            <td style="border: 1px solid #ffffff;width: 30%;"></td>
                            <td style="border: 1px solid #ffffff;width: 30%;">
                                <t t-if="company_street1 and company_street2">
                                    <t t-esc="company_street1"/>, <t t-esc="company_street2"/><br/>
                                </t>
                                <t t-esc="company_street1"/> <t t-esc="company_street2"/><br/>
                                <t t-esc="company_street3"/><br/>
                                <t t-esc="company_phone"/><br/>
                                <t t-esc="company_web"/><br/>
                                <t t-esc="company_npwp"/><br/>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td style="text-align: right;font-size: 14px;"><b>Sisa Tagihan Rp. <t t-esc="round_balance_due"/></b></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;width: 40%;">
                            <!-- Customer<br/> -->
                                <t t-esc="partner_name"/>
                            </td>
                            <td style="border: 1px solid #ffffff;width: 30%;">
                            <!-- Invoice#<br/> -->
                                <t t-esc="invoice_name"/>
                            </td>
                            <td style="border: 1px solid #ffffff; vertical-align: top;width: 30%;">
                                <!-- Customer Reference -->
                            </td>
                        </tr>
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff; vertical-align: top;width: 40%;">
                            <!-- Address<br/> -->
                                <t t-if="partner_street1 and partner_street2">
                                    <t t-esc="partner_street1"/>, <t t-esc="partner_street2"/><br/>
                                </t>
                                <t t-esc="partner_street1"/> <t t-esc="partner_street2"/><br/>
                                <t t-esc="partner_street3"/><br/>
                                <t t-esc="partner_phone"/><br/>
                            </td>
                            <td style="border: 1px solid #ffffff;vertical-align: top;width: 30%;">
                                <!-- Date<br/> -->
                                <t t-esc="invoice_date"/><br/><br/>
                                <!-- Due Date<br/> -->
                                <t t-esc="invoice_date_due"/><br/><br/>
                                <!-- Term<br/> -->
                                <br/><br/>
                            </td>
                            <td style="border: 1px solid #ffffff;vertical-align: top;width: 30%;">
                                <!-- Tags<br/> -->
                                <t t-esc="tags_info"/>
                            </td>
                        </tr>
                    </table>

                    <br/><br/>
                    <table class="table" style="width: 100%; font-size: 14px;"> 
                        <thead>
                            <tr style="background-color: #cccccc">
                                <th>No.</th>
                                <th>Keterangan</th>
                                <th>Qty</th>
                                <th>Harga Satuan (Rp.)</th>
                                <th>Diskon</th>
                                <th>Pajak</th>
                                <th>Jumlah (Rp.)</th>
                                <th>DPP (Rp.)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="counter" t-value="0"/>
                            <t t-foreach="product_line" t-as="lines">
                                <tr>
                                    <td style="text-align: center;"><t t-set="counter" t-value="counter + 1"/><t t-esc="counter"/></td>  <!-- No. -->
                                    <td t-if="lines[0]" style="text-align: left;">
                                        <t t-esc="lines[0]"/>
                                    </td>
                                    <td t-if="lines[1]" style="text-align: center;">
                                        <t t-esc="lines[1]"/>
                                    </td>
                                    <td t-if="lines[2]" style="text-align: right;">
                                        <t t-esc="lines[2]"/>
                                    </td>
                                    <td t-if="lines[3]" style="text-align: center;">
                                        <t t-esc="lines[3]"/>
                                    </td>
                                    <td t-if="lines[4]" style="text-align: center;">
                                        <t t-esc="lines[4]"/>
                                    </td>
                                    <td t-if="lines[5]" style="text-align: right;">
                                        <t t-esc="lines[5]"/>
                                    </td>
                                    <td t-if="lines[6]" style="text-align: right;">
                                        <t t-esc="lines[6]"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <br/><br/><br/>
                    <table class="table" style="width: 100%; font-size: 14px;">
                        <tr style="border: 1px solid #ffffff; vertical-align: top;">
                            <td style="border: 1px solid #ffffff; width: 60%;">
                                <b>Pesan</b>
                            </td>
                            <td style="border: 1px solid #ffffff; width: 30%;">
                                Subtotal
                            </td>
                            <td style="border: 1px solid #ffffff; width: 10%;text-align: right;">
                                <t t-esc="subtotal"/>
                            </td>
                        </tr>
                        <tr style="border: 1px solid #ffffff; vertical-align: top;">
                            <td t-att-rowspan="total_rows" style="border: 1px solid #ffffff; width: 60%;">
                                <t t-raw="invoice_tnc"/>
                            </td>
                            <td style="border: 1px solid #ffffff; width: 30%;">
                                Total DPP
                            </td>
                            <td style="border: 1px solid #ffffff; width: 10%;text-align: right;">
                                <t t-esc="total_tax_base"/>
                            </td>
                        </tr>
                        <t t-foreach="taxes" t-as="tax">
                            <tr style="border: 1px solid #ffffff; vertical-align: top;">
                                <td style="border: 1px solid #ffffff; width: 30%;">
                                    <t t-esc="tax['name']"/> <t t-esc="tax['percentage']"/> %
                                </td>
                                <td style="border: 1px solid #ffffff; width: 10%;text-align: right;">
                                    <t t-esc="tax['amount']"/>
                                </td>
                            </tr>
                        </t>
                        <tr style="border-top: 1px solid black; vertical-align: top;">
                            <td style="border-top: 1px solid black; width: 30%;">
                                <b>TOTAL</b>
                            </td>
                            <td style="border-top: 1px solid black; width: 10%;text-align: right;">
                                <b><t t-esc="balance_due"/></b>
                            </td>
                        </tr>
                        <tr style="border: 1px solid #ffffff; vertical-align: top;">
                            <td style="border: 1px solid #ffffff; width: 30%;">
                                Jumlah Pemotongan
                            </td>
                            <td style="border: 1px solid #ffffff; width: 10%;">
                            </td>
                        </tr>
                        <tr style="border: 1px; vertical-align: top;">
                            <td style="border: 1px solid #ffffff; width: 30%;">
                                <pre><i>        PEMBULATAN</i></pre>
                            </td>
                            <td style="border: 1px solid #ffffff; width: 10%;text-align: right;">
                                <t t-esc="rounded"/>
                            </td>
                        </tr>
                        <tr style="border-top: 1px solid black; vertical-align: top;">
                            <td style="border-top: 1px solid black; width: 30%;">
                                <b>Sisa Tagihan</b>
                            </td>
                            <td style="border-top: 1px solid black; width: 10%;text-align: right;">
                                <b><t t-esc="round_balance_due"/></b>
                            </td>
                        </tr>
                    </table>

                    <br/><br/><br/>
                    <p style="text-align: right; font-size: 14px;"> 
                        <t t-esc="signature_name"/><br/>
                        <br/><img t-if="signature_image" t-att-src="signature_image" 
                            style="width: 100px; height: auto;" alt="Signature" />
                        <br/>
                        DIREKTUR<br/>
                        REXLINE ENGINEERING INDONESIA
                    </p>
                </div>
            </t>
        </template>

    </data>
</odoo>
