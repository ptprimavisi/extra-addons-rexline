<odoo>
    <data>
        <record id="action_report_quotation" model="ir.actions.report">
            <field name="name">Print Out Quotation</field>
            <field name="model">sale.order</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">custom_report.report_quotation</field>
            <field name="report_file">custom_report.report_quotation</field>
            <field name="print_report_name">object.name</field>
        </record>
        
        <template id="report_quotation">
            <t t-set="data_report_margin_top" t-value="15"/>
            <t t-call="web.html_container">
                <t t-set="doc" t-value="docs"/>
                <t t-set="data" t-value="docs.get_data()"/>
                <div class="container" style="font-family: Calibri, sans-serif;">
                    <div style="text-align: left;">
                        <img t-if="data['logo']" t-att-src="data['logo']" style="width: 120px; height: auto;" alt="Logo"/><br/><br/>
                        <!-- <img src="/custom_report/static/src/img/invoice_rexline.png" style="width: 120px; height: auto;" /> -->
                    </div>

                    <table class="table" style="width: 100%; font-size: 14px;">
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;"><b><t t-esc="data['company_name']"/></b></td>
                            <td style="border: 1px solid #ffffff;"><b>Date:</b></td>
                            <td style="border: 1px solid #ffffff;"><t t-esc="data['so_date']"/></td>
                        </tr>
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;">
                                <div style="width: 65%;">
                                    <t t-esc="data['company_street1']"/> <t t-esc="data['company_street2']"/>
                                    <t t-esc="data['company_street3']"/><br/>
                                    <t t-esc="data['company_phone']"/><br/>
                                </div>

        <!--                                <t t-esc="company_web"/><br/>-->
        <!--                                <t t-esc="company_npwp"/><br/>-->
                            </td>
                            <td style="border: 1px solid #ffffff;"><b>QUOTE #:</b></td>
                            <td style="border: 1px solid #ffffff;"><t t-esc="data['so_name']"/></td>
                        </tr>
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;">
                                <t t-esc="data['company_web']"/><br/>
                                <t t-esc="data['company_npwp']"/>
                            </td>
                            <td style="border: 1px solid #ffffff;">Customer's Reference :</td>
                            <td style="border: 1px solid #ffffff;"><t t-esc="data['customer_ref']"/></td>
                        </tr>
                    </table>

                    <table class="table" style="width: 50%; font-size: 14px;">
                        <tr style="border: 1px solid #ffffff; background-color: #12476e; color: white;">
                            <td style="padding: 5px;"><b>CUSTOMER</b></td>
                        </tr>
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;"><t t-esc="data['partner_name']"/></td>
                        </tr>
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;">
                                <t t-esc="data['partner_street1']"/> <t t-esc="partner_street2"/>
                                <t t-esc="data['partner_street3']"/><br/>
                            </td>
                        </tr>
                    </table>

                    <table class="table" style="border-collapse: collapse; width: 100%; font-size: 14px;text-align: left;">
                        <tr style="background-color: #12476e; color: white;">
                            <th style="padding: 5px; border: 1.5px solid black;">Tags</th>
                            <th style="padding: 5px; border: 1.5px solid black;">Term</th>
                            <th style="padding: 5px; border: 1.5px solid black;">Due Date</th>
                        </tr>
                        <tr>
                            <td style="border: 1.5px solid black; padding: 5px;"><t t-esc="data['tags_info']"/></td>
                            <td style="border: 1.5px solid black; padding: 5px;"><t t-esc="data['so_term']"/></td>
                            <td style="border: 1.5px solid black; padding: 5px;"><t t-esc="data['so_date_due']"/></td>
                        </tr>
                    </table>
                    <br/>
                    <table class="table table-bordered" style="border-collapse: collapse; width: 100%; font-size: 14px;">
                        <thead>
                            <tr style="border: 1.5px solid black; background-color: #12476e; color: white;">
                                <th style="border: 1.5px solid black; padding: 5px;">No.</th>
                                <th style="border: 1.5px solid black; padding: 5px;">Quantity</th>
                                <th style="border: 1.5px solid black; padding: 5px;">Product</th>
                                <th style="border: 1.5px solid black;">Description</th>
                                <th style="border: 1.5px solid black; padding: 5px;">Unit Price (Rp.)</th>
                                <!--<th style="border: 1.5px solid black;">Discount</th>-->
                                <th style="border: 1.5px solid black; padding: 5px;">Taxed</th>
                                <th style="border: 1.5px solid black; padding: 5px;">Amount (Rp.)</th>
                                <!--<th style="border: 1.5px solid black;">Tax Base (Rp.)</th>-->
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="counter" t-value="0"/>
                            <t t-foreach="data['order_lines']" t-as="lines">
                                <tr>
                                    <td style="border: 1.5px solid black; vertical-align: top;  padding: 5px;"><t t-set="counter" t-value="counter + 1"/><t t-esc="counter"/></td>  <!-- No. -->
                                    <td t-if="lines[0]" style="border: 1.5px solid black; text-align: left; vertical-align: top;  padding: 5px;">
                                        <t t-esc="lines[0]"/>
                                    </td>
                                    <td t-if="lines[1]" style="border: 1.5px solid black; text-align: right; vertical-align: top;  padding: 5px;">
                                        <t t-esc="lines[1]"/>
                                    </td>
                                    <td t-if="lines[2]" style="border: 1.5px solid black; text-align: left; padding: 5px; vertical-align: top;">
                                        <strong><pre t-esc="lines[2]"/></strong>
                                    </td>
                                    <td t-if="lines[3]" style="border: 1.5px solid black; text-align: right; vertical-align: top; padding: 5px;">
                                        <t t-esc="lines[3]"/>
                                    </td>
                                    <!--<td t-if="lines[4]" style="border: 1.5px solid black; text-align: center;">-->
                                    <!--    <t t-esc="lines[4]"/>-->
                                    <!--</td>-->
                                    <td t-if="lines[5]" style="border: 1.5px solid black; text-align: center; vertical-align: top; padding: 5px;">
                                        <t t-esc="lines[5]"/>
                                    </td>
                                    <td t-if="lines[6]" style="border: 1.5px solid black; text-align: right; vertical-align: top; padding: 5px;">
                                        <t t-esc="lines[6]"/>
                                    </td>
                                    <!--<td t-if="lines[7]" style="border: 1.5px solid black; text-align: right;">-->
                                    <!--    <t t-esc="lines[7]"/>-->
                                    <!--</td>-->
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <br/><br/><br/>

                    <table class="table" style="width: 100%; font-size: 14px;">
                        <tr style="border: 1px solid #ffffff;">
                            <td style="border: 1px solid #ffffff;">
                                <div style="width: 90%;  background-color: #d1d0cf;">
                                    <div style="padding: 10px;">
                                        <b>AMOUNT IN WORD</b><br/><br/>
                                        <t t-esc="data['balance_due_in_word']"/> (RUPIAH)<br/><br/>
                                        <b>Payment Detail</b><br/>
                                        <br/>
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td style="vertical-align: top;">
                                                        <p>Bank Name : </p>
                                                    </td>
                                                    <td>
                                                        <p><t t-esc="data['bank_name']"/></p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="vertical-align: top;">
                                                        <p>Bank Branch : </p>
                                                    </td>
                                                    <td>
                                                        <p><t t-esc="data['bank_branch']"/></p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="vertical-align: top;">
                                                        <p>Bank Account Number : </p>
                                                    </td>
                                                    <td style="vertical-align: top;">
                                                        <p><t t-esc="bank_number"/></p>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="vertical-align: top;">
                                                        <p>Bank Account Name : </p>
                                                    </td>
                                                    <td>
                                                        <p><t t-esc="data['bank_account_name']"/></p>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <!--Bank Name : MAYBANK<br/>-->
                                        <!--Bank Branch : SURABAYA<br/>-->
                                        <!--Bank Account Number : 2790000188<br/>-->
                                        <!--Bank Account Name : PT Rexline Engineering Indonesia<br/>-->
                                    </div>
                                </div>


                            </td>
                            <td style="border: 1px solid #ffffff; min-width:170px;">
                                Subtotal<br/><br/>
                                Total Tax Base<br/><br/>
                                <t t-foreach="data['taxes']" t-as="tax">
                                    <!-- <t t-esc="tax['name']"/> <t t-esc="tax['percentage']"/> %<br/> -->
                                    <t t-esc="tax['name']"/><br/>
                                </t>
                                <b><br/>Total</b><br/>
                                <br/><p style="padding: 5px; background-color: #12476e; color: white;"><strong>Balance Due</strong></p>
                            </td>
                            <td style="border: 1px solid #ffffff;text-align: right;">
                                <t t-esc="data['subtotal']"/><br/><br/>
                                <t t-esc="data['total_tax_base']"/><br/><br/>
                                <t t-foreach="data['taxes']" t-as="tax">
                                    <t t-esc="tax['amount']"/><br/>
                                </t>
                                <b><br/><t t-esc="data['balance_due']"/></b><br/>
                                <br/><p style="background-color: #12476e; color: white; padding: 5px;">
                                    <strong><t t-esc="data['balance_due']"/></strong>
                                </p>
                            </td>
                        </tr>
                    </table>

                    <br/><br/>
                    <div style=" min-width: 600px; max-width: 100%; word-wrap: break-word; overflow-wrap: break-word; display: inline-block; font-size: 14px; text-align: left; border: 1.5px solid black; padding: 10px; page-break-inside: avoid;">
                        <div style="background-color: #12476e; color: white; padding: 8px; font-weight: bold;">
                            Special Notes and Instructions
                        </div>
                        <div style="padding: 10px;">
                            <b>Message</b><br/><br/>
                            <p>Terms &amp; Conditions:</p>
                            <div class="row">
                                <span style="font-size: 16px;"><pre t-raw="data['so_tnc']"/></span>
                            </div>

                        </div>
                    </div>

                    <p style="text-align: right; font-size: 14px;">
                        <br/><img t-if="data['signature_image']" t-att-src="data['signature_image']" style="width: 200px; height: auto;" alt="Signature"/>
                        <br/><t t-esc="data['signature_name']"/><br/>
                        National Sales Leader<br/>
                        PT REXLINE ENGINEERING INDONESIA
                    </p>
                </div>
            </t>
        </template>
    </data>
</odoo>
